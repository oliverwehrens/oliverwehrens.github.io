<!doctype html>









































<html
  class="not-ready lg:text-base"
  style="--bg: "
  lang="en-us"
>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Quant - Check your Tests - Oliver Wehrens</title>

  
  <meta name="theme-color" />

  
  
  
  
  <meta name="description" content="

Did you ever wondered if all tests your team wrote are really running ? How many disabled tests does your code base have? How many public void methods do not have a @Test annotation (or at the class) ?

I saw all of that in the last years.
To overcome this situation I wrote a couple of java classes which will scan your java test sources and will examine the annotations (for TestNG, sorry JUnit). The code will detect if all public void methods do have a @Test annotation (either direct on the method or on the class) or if there are disabled tests. Both signals are most likely a sign of rotten code." />
  <meta name="author" content="Oliver Wehrens" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="https://owehrens.com/main.min.css" />


  
  
  
  
  

  
  
  <link rel="preload" as="image" href="https://owehrens.com/linkedin.svg" />
  
  <link rel="preload" as="image" href="https://owehrens.com/bluesky.svg" />
  
  <link rel="preload" as="image" href="https://owehrens.com/speakerdeck.svg" />
  
  <link rel="preload" as="image" href="https://owehrens.com/rss.svg" />
  
  

  
  
  <script
    defer
    src="https://owehrens.com/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  
  

  
  <link rel="icon" href="https://owehrens.com/favicon.ico" />
  <link rel="apple-touch-icon" href="https://owehrens.com/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.147.8">

  
  
  
  
  
  
  <meta itemprop="name" content="Quant - Check your Tests">
  <meta itemprop="description" content="Did you ever wondered if all tests your team wrote are really running ? How many disabled tests does your code base have? How many public void methods do not have a @Test annotation (or at the class) ? I saw all of that in the last years.
To overcome this situation I wrote a couple of java classes which will scan your java test sources and will examine the annotations (for TestNG, sorry JUnit). The code will detect if all public void methods do have a @Test annotation (either direct on the method or on the class) or if there are disabled tests. Both signals are most likely a sign of rotten code.">
  <meta itemprop="datePublished" content="2009-05-30T00:00:00+00:00">
  <meta itemprop="dateModified" content="2009-05-30T00:00:00+00:00">
  <meta itemprop="wordCount" content="446">
  <meta itemprop="keywords" content="Test Java">
  
  <meta property="og:url" content="https://owehrens.com/quant-check-your-tests/">
  <meta property="og:site_name" content="Oliver Wehrens">
  <meta property="og:title" content="Quant - Check your Tests">
  <meta property="og:description" content="Did you ever wondered if all tests your team wrote are really running ? How many disabled tests does your code base have? How many public void methods do not have a @Test annotation (or at the class) ? I saw all of that in the last years.
To overcome this situation I wrote a couple of java classes which will scan your java test sources and will examine the annotations (for TestNG, sorry JUnit). The code will detect if all public void methods do have a @Test annotation (either direct on the method or on the class) or if there are disabled tests. Both signals are most likely a sign of rotten code.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2009-05-30T00:00:00+00:00">
    <meta property="article:modified_time" content="2009-05-30T00:00:00+00:00">

  
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Quant - Check your Tests">
  <meta name="twitter:description" content="Did you ever wondered if all tests your team wrote are really running ? How many disabled tests does your code base have? How many public void methods do not have a @Test annotation (or at the class) ? I saw all of that in the last years.
To overcome this situation I wrote a couple of java classes which will scan your java test sources and will examine the annotations (for TestNG, sorry JUnit). The code will detect if all public void methods do have a @Test annotation (either direct on the method or on the class) or if there are disabled tests. Both signals are most likely a sign of rotten code.">

  
  
  
  <link rel="canonical" href="https://owehrens.com/quant-check-your-tests/" />
  
  
  <script defer data-domain="owehrens.com" src="https://superpod.podpodgogo.com/js/script.js"></script>
<script defer src="http://t.4004.fyi/script.js" data-website-id="c74b6817-9757-4ab0-b9c6-fee1036f806a"></script>
</head>

  <body class="text-black duration-200 ease-out ">
    <div class="mx-auto pt-2 flex flex-col justify-center items-center">
    <div>
        <a href="https://owehrens.com/">
            <img
                    class="my-0 aspect-square  rounded-full "
                    src="/img/oliver_square.jpg"
                    alt="Oliver Wehrens"
            />
        </a>
    </div>

    <div class="p-8 text-xl font-serif">Seasoned Technology Leader. Mentor. Dad.</div>


    <div>
        
        <nav
                class="mt-5 flex justify-center space-x-10 items-center "
        >
            
            <a
                    class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
                    style="--url: url(./linkedin.svg)"
                    href="https://linkedin.com/in/oliverwehrens
          "
                    target="_blank"
                    rel="me"
            >
                linkedin
            </a>
            
            <a
                    class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
                    style="--url: url(./bluesky.svg)"
                    href="https://bsky.app/profile/owehrens.com"
                    target="_blank"
                    rel="me"
            >
                bluesky
            </a>
            
            <a
                    class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
                    style="--url: url(./speakerdeck.svg)"
                    href="https://speakerdeck.com/owehrens
          "
                    target="_blank"
                    rel="me"
            >
                speakerdeck
            </a>
            
            <a
                    class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
                    style="--url: url(./rss.svg)"
                    href="https://owehrens.com/rss.xml "
                    target="_blank"
                    rel="alternate"
            >
                rss
            </a>
            
        </nav>
        
    </div>

</div>  


    
  


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-3xl px-8 pb-16 pt-12"
    >
      

<article>
  <header class="mb-16">
    Oliver Wehrens
    <h1 class="!my-0 pb-2.5 article-title">Quant - Check your Tests</h1>

    
    <div class="text-sm antialiased opacity-60">
      
      <time>May 30, 2009</time>
      
      
      
      
      <span class="text-gray">- 3 min</span>
    </div>
    
  </header>

  <section><p>

<img src="/static/QuantLogo.png" class="alignleft"/>Did you ever wondered if all tests your team wrote are <strong>really running</strong> ? How many <strong>disabled tests</strong> does your code base have? How many public void methods <strong>do not have a @Test</strong> annotation (or at the class) ?

I saw all of that in the last years.</p>
<p>To overcome this situation I wrote a couple of java classes which will scan your java test sources and will examine the annotations (for TestNG, sorry JUnit). The code will detect if all public void methods do have a<code> @Test</code> annotation (either direct on the method or on the class) or if there are disabled tests. Both signals are most likely a sign of rotten code.</p>
<p>If you have different test groups defined like &lsquo;unitTest&rsquo; or &lsquo;integrationTest&rsquo; you want to make sure all tests are in at least one test group. This ensures if you run all test groups all tests are executed.</p>
<p>The usage is really <!-- raw HTML omitted -->simple<!-- raw HTML omitted -->. To make sure all your tests are ok is to <!-- raw HTML omitted -->write just another test<!-- raw HTML omitted --> which will check all tests.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ClassFinder classFinder <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">new</span> ClassFinder.<span style="color:#a6e22e">Builder</span>(sourceDirectory).<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (Class klass : classFinder.<span style="color:#a6e22e">getClassList</span>()) {
</span></span><span style="display:flex;"><span>  TestClassTester testClassTester <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> TestNGTestClassTester.<span style="color:#a6e22e">Builder</span>(klass).<span style="color:#a6e22e">build</span>();   
</span></span><span style="display:flex;"><span>  Assert.<span style="color:#a6e22e">assertTrue</span>(testClassTester.<span style="color:#a6e22e">allTestMethodsHaveValidTestGroup</span>());
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>You need to specify the source files of your code so that all java files can be scanned. It is possible to exclude certain packages to be checked (via <code>TestNGTestClassTester.Builder(klass).addExcludedPackage(&quot;testclasses&quot;).build()</code>). After gathering all class names from the sources the code will check for <code>@Test</code> annotations in the test classes. You can also specify the test groups which all test should belong to (via <code>addTestGroup(&quot;unitTest&quot;)</code> in the builder).</p>
<p>Finding disabled test methods is very simple too (one of the unit tests)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testNoDisabledTest</span>() {
</span></span><span style="display:flex;"><span>  DisabledTestFinder unitUnderTest <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> TestNGDisabledTestFinder.<span style="color:#a6e22e">Builder</span>(TwoTestGroups.<span style="color:#a6e22e">class</span>).<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span>  assertFalse(unitUnderTest.<span style="color:#a6e22e">hasDisabledTests</span>());
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This would test a single class (but you can of course feed it with the results of the ClassFinder).</p>
<p>If you combine the possibility to break your build because of defect test classes and a  <!-- raw HTML omitted -->continuous integration system<!-- raw HTML omitted -->, you can make sure everybody will annotate their classes correctly or never disables tests (or even better use a CI with delayed check in and personal build like Jetbrains Teamcity). Of course you can define your own thresholds for e.g. 30 disabled tests are allowed (I know sometimes you just can&rsquo;t avoid it).</p>
<p>The code depends on testng and commons-io and is released under the Apache v2 license.</p>
<p>I still need to figure out where to put the maven2 sources. Either Google code or GitHub ? Any ideas?


<strong>Update:</strong> Code is available at <a href="http://code.google.com/p/quant/source/checkout">Google Code Hosting</a>.

Things to implement:

<ul>
<li>A more flexible exclude patterm, like Apache ant maybe</li>
<li>Make sure to check @BeforeXXX and @AfterXXX methods as well</li>
<li>Implement JUnit (maybe ;-) )</li>
</ul>
</p>
</section>


  
  

  
  
  
  
  <nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]">
    
    <a
      class="flex w-1/2 items-center rounded-l-md p-6 pr-3 font-semibold no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]"
      href="https://owehrens.com/update-on-quant-testtester/"
      ><span class="mr-1.5">←</span><span>Update on Quant TestTester</span></a
    >
    
    
    <a
      class="ml-auto flex w-1/2 items-center justify-end rounded-r-md p-6 pl-3 font-semibold no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]"
      href="https://owehrens.com/jetbrains-released-a-google-app-engine-plugin-for-intellij/"
      ><span>Jetbrains released a Google App Engine plugin for IntelliJ</span><span class="ml-1.5">→</span></a
    >
    
  </nav>
  
  

  
  

  


  
</article>


    </main>

    


<div
class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
>



</div>


<footer
  class="opaco mx-auto flex h-[4.5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"
>




  

  <div class="mr-auto">
    &copy; 2009 - 2025
    <a class="link" href="https://owehrens.com/">Oliver Wehrens</a>
  </div>

</footer>

  </body>
</html>
